{% extends "layout.html" %}
{% block content %}
<div class="container mt-5">
   <h1>Users</h1>
   <a class="btn btn-primary" href="{{ url_for('add_user') }}">Add New</a>
   <br><br>
   {% for user in users %}
       <div class="card mb-3">
           <div class="card-body">
               <h5 class="card-title">{{ user.name }}</h5>
               <h6 class="card-subtitle mb-2 text-muted">{{ user.email }}</h6>
               <p class="card-text">Created at: {{ user.created_at }}</p>
               <a class="btn btn-secondary" href="{{ url_for('edit_user', user_id=user.id) }}">Edit</a>
               <form class="d-inline" action="{{ url_for('delete_user', user_id=user.id) }}" method="post">
                   <input type="hidden" name="_method" value="DELETE">
                   <button class="btn btn-danger" type="submit" onclick="return confirm('Are you sure you want to delete this user?')">Delete</button>
               </form>
           </div>
       </div>
   {% endfor %}
</div>
{% endblock %}